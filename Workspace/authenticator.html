<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <title>Authenticator</title>
</head>
<script>
    function valid(name, pass, num){
        let validInfo = false;
        if(name.value.toUpperCase() != 'HARRISON'){
            return validInfo;
        } else if(pass.value != 'pass'){
            return validInfo;
        } else if(pnum.value != 6478848304){
            return validInfo;
        } else {
            validInfo = true;
            return validInfo;
        }
    }

    function test2(){
        let name = document.getElementById('name');
        let pass = document.getElementById('pass');
        let pnum = document.getElementById('pnum');

        if(valid(name, pass, pnum)){
            var myHeaders = new Headers();
            myHeaders.append("Authorization", "Basic QUNiYjBjNzViZjQ2ODk3NzNmY2Q0MGE4ZGEzOTQ4N2M0NDo1MWZmOTc1M2EyNWQ5YWZiN2UyODE4MjA0YmE2YjY4Ng==");
            myHeaders.append("Content-Type", "application/x-www-form-urlencoded");

            var urlencoded = new URLSearchParams();
            urlencoded.append("To", "+1" + pnum.value);
            urlencoded.append("From", "+13087454368");
            urlencoded.append("Body", "hello beautiful man");

            var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: urlencoded,
            redirect: 'follow'
            };

            fetch("https://api.twilio.com/2010-04-01/Accounts/ACbb0c75bf4689773fcd40a8da39487c44/Messages.json", requestOptions)
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.log('error', error));

            window.alert('success');
        } else {
            name.value = '';
            pass.value = '';
            pnum.value = '';    
            window.alert('did not work');
        }
    }
</script>
<body>
    <div class="container">
        <input class="input" id="name" type="text" placeholder="Name">
        <input class="input" id="pass" type="text" placeholder="Password">
        <input class="input" id="pnum" type="number" placeholder="Phone Number">
        <button class="button has-background-danger has-text-white" onclick="test2();">Send Message</button>
    </div>
</body>
<style>
    input{
        margin-top: 20px;
    }
    button{
        margin-top: 20px;
    }
</style>
</html>